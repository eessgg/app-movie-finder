"use strict";function validate(){var e=mysearch.value;e?loadURL(e):(errorMessage.innerHTML=errosText.empty,errorMessage.style.display="block",setTimeout(function(){errorMessage.style.display="none"},3e3))}function loadURL(e){var t="",n={key:"5b1ed0f512dc0bcf732837664658fb66",query:e};return t="https://api.themoviedb.org/3/search/movie?api_key=".concat(n.key,"&language=en-US&query=").concat(n.query,"&page=1&include_adult=false}"),getDataSearch(t)}function getTopRated(){var e,t={api_key_r:"5b1ed0f512dc0bcf732837664658fb66"},n="https://api.themoviedb.org/3/movie/top_rated?api_key=".concat(t.api_key_r,"&language=en-US&page=1");fetch(n).then(function(e){return e.json()}).then(function(t){e=t.results.slice(0,4),e.map(function(e){showTopRated(e)})})}function getPopularMovies(){var e,t={api_key_r:"5b1ed0f512dc0bcf732837664658fb66"},n="https://api.themoviedb.org/3/movie/popular?api_key=".concat(t.api_key_r,"&language=en-US&page=1");fetch(n).then(function(e){return e.json()}).then(function(t){e=t.results.slice(0,4),showPopular(e)})}function getDataSearch(e){fetch(e).then(function(e){return e.json()}).then(function(e){var t=e.results.slice(0,4);console.log(t[0]),t.map(function(e){showSearch(e)}),mysearch.value=""}).catch(function(e){console.log(e)})}function showSearch(e){resultsBox.style.display="block",output="",output+='\n    <div class="column result-box">\n      <figure class="image-search">\n        <img src='.concat("https://image.tmdb.org/t/p/w500"+e.poster_path,' alt="').concat(e.title,'">\n        <div class="legend">\n          <h2 class="title is-5"> ').concat(e.original_title,"(").concat(e.release_date.slice(0,4),') </h2>\n          <p class="cat"> Drama/ Adventure</p>\n          ').concat(e.video?'<button class="btn"> <a href="'+e.video+'">Watch TRailer</a> <span> > </span></button>':"","\n        </div>\n      </figure>\n    </div>\n  "),outputResult.innerHTML+=output}function showTopRated(e){topOutputBox="",topOutputBox+='\n    <div class="column">\n      <figure class="image">\n        <img src='.concat("https://image.tmdb.org/t/p/w500/"+e.poster_path,' alt="').concat(e.title,'">\n        <div class="legend">\n          <h2 class="title is-5"> ').concat(e.title,"(").concat(e.release_date.slice(0,4),')</h2>\n          <p class="cat"> Drama/ Adventure</p>\n        </div>\n      </figure>\n    </div>\n  '),topOutput.innerHTML+=topOutputBox}function showPopular(e){popularOutputBox="",popularOutputBox+='\n    <div class="column">\n      <figure class="image">\n        <img src='.concat("https://image.tmdb.org/t/p/w500/"+e.poster_path,' alt="').concat(e.title,'">\n        <div class="legend">\n          <h2 class="title is-5"> ').concat(e.title,"(").concat(e.release_date,')</h2>\n          <p class="cat"> Drama/ Adventure</p>\n        </div>\n      </figure>\n    </div>\n  '),popularOutput.innerHTML+=popularOutputBox}function loadEvents(){thumbs.forEach(function(e){console.log(e)}),window.addEventListener("click",outsideClick),closeBtn.addEventListener("click",closeModal),mysearch.addEventListener("change",validate)}function openModal(){modal.style.display="block"}function closeModal(){modal.style.display="none"}function outsideClick(e){e.target==modal&&(modal.style.display="none")}var modal=document.querySelector(".modal"),thumbs=document.querySelectorAll("figure.image"),closeBtn=document.querySelector(".close-modal"),mysearch=document.querySelector(".mysearch"),outputResult=document.querySelector(".output-result"),resultsBox=document.querySelector(".results"),errorMessage=document.querySelector(".error-message"),topOutput=document.querySelector("#rated .container"),popularOutput=document.querySelector("#popular .container"),errosText={empty:"Digite um nome de filme..."},genres=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}];window.addEventListener("DOMContentLoaded",function(){loadEvents(),getTopRated(),getPopularMovies()});